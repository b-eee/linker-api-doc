(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{164:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return b})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return s}));var r=a(3),n=a(7),i=(a(0),a(177)),l={id:"README",title:"UserInfo API",sidebar_label:"\u4f7f\u3044\u65b9"},b={unversionedId:"v0/userinfo/README",id:"v0/userinfo/README",isDocsHomePage:!1,title:"UserInfo API",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u306e\u60c5\u5831\u53d6\u5f97\u3084\u66f4\u65b0\u306b\u95a2\u9023\u3059\u308bAPI",source:"@site/docs\\v0\\userinfo\\README.md",slug:"/v0/userinfo/README",permalink:"/linker-api-doc/docs/v0/userinfo/README",version:"current",sidebar_label:"\u4f7f\u3044\u65b9",sidebar:"default",previous:{title:"UserRegistration",permalink:"/linker-api-doc/docs/v0/user-registration/UserRegistration"},next:{title:"ConfirmUserEmail",permalink:"/linker-api-doc/docs/v0/userinfo/ConfirmUserEmail"}},c=[{value:"Overview",id:"overview",children:[]},{value:"Pre Requisites",id:"pre-requisites",children:[]},{value:"API",id:"api",children:[{value:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u60c5\u5831",id:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u60c5\u5831",children:[]},{value:"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4",id:"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4",children:[]},{value:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4",id:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4",children:[]}]}],p={toc:c};function s(e){var t=e.components,l=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},p,l,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u306e\u60c5\u5831\u53d6\u5f97\u3084\u66f4\u65b0\u306b\u95a2\u9023\u3059\u308bAPI"),Object(i.b)("h2",{id:"overview"},"Overview"),Object(i.b)("p",null,"\u30ed\u30b0\u30a4\u30f3\u6e08\u30e6\u30fc\u30b6\u60c5\u5831\u306e\u691c\u7d22\u3001\u66f4\u65b0\u306a\u3069\u306e\u30d5\u30ed\u30fc\u3068\u5229\u7528API\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\n\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3059\u308b\u305f\u3081\u3001SendGrid\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u307e\u3059\u3002"),Object(i.b)("h2",{id:"pre-requisites"},"Pre Requisites"),Object(i.b)("p",null,"\u30ed\u30b0\u30a4\u30f3\u53ef\u80fd\u306aHexabase\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u3059\u3067\u306b\u5b58\u5728\u3059\u308b\u3053\u3068"),Object(i.b)("h2",{id:"api"},"API"),Object(i.b)("h3",{id:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u60c5\u5831"},"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u60c5\u5831"),Object(i.b)("p",null,"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u30e6\u30fc\u30b6\u30fc\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"center"},"No"),Object(i.b)("th",{parentName:"tr",align:"left"},"API Name"),Object(i.b)("th",{parentName:"tr",align:"left"},"API\u540d"),Object(i.b)("th",{parentName:"tr",align:"left"},"Method"),Object(i.b)("th",{parentName:"tr",align:"left"},"URI"),Object(i.b)("th",{parentName:"tr",align:"left"},"\u76ee\u7684"),Object(i.b)("th",{parentName:"tr",align:"left"},"version"),Object(i.b)("th",{parentName:"tr",align:"left"},"\u753b\u9762ID","(","display","_","id",")","\u3078\u306e\u5bfe\u5fdc"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"43"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/GetUserInfo"},"GetUserInfo")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u53d6\u5f97"),Object(i.b)("td",{parentName:"tr",align:"left"},"GET"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/userinfo"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e6\u30fc\u30b6\u30fc\u306e\u95a2\u9023\u60c5\u5831\u53d6\u5f97"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"61"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/UpdateUserInfo"},"UpdateUserInfo")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u66f4\u65b0"),Object(i.b)("td",{parentName:"tr",align:"left"},"PUT"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/userinfo"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e6\u30fc\u30b6\u30fc\u540d\u3001\u60c5\u5831\u306e\u66f4\u65b0"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")))),Object(i.b)("h3",{id:"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4"},"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4"),Object(i.b)("p",null,"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fd8\u308c\u305f\u30e6\u30fc\u30b6\u5411\u3051\u306b\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u767a\u884c\u3057\u307e\u3059"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"center"},"No"),Object(i.b)("th",{parentName:"tr",align:"left"},"API Name"),Object(i.b)("th",{parentName:"tr",align:"left"},"API\u540d"),Object(i.b)("th",{parentName:"tr",align:"left"},"Method"),Object(i.b)("th",{parentName:"tr",align:"left"},"URI"),Object(i.b)("th",{parentName:"tr",align:"left"},"\u76ee\u7684"),Object(i.b)("th",{parentName:"tr",align:"left"},"version"),Object(i.b)("th",{parentName:"tr",align:"left"},"\u753b\u9762ID","(","display","_","id",")","\u3078\u306e\u5bfe\u5fdc"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"56"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/ResetPassword"},"ResetPassword")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30d1\u30b9\u30ef\u30fc\u30c9\u521d\u671f\u5316\u30ea\u30af\u30a8\u30b9\u30c8"),Object(i.b)("td",{parentName:"tr",align:"left"},"POST"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/users/password/forgot"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30ed\u30b0\u30a4\u30f3\u524d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u521d\u671f\u5316 \u958b\u59cb"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"57"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/SetNewPassword"},"SetNewPassword")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30d1\u30b9\u30ef\u30fc\u30c9\u518d\u767b\u9332"),Object(i.b)("td",{parentName:"tr",align:"left"},"PUT"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/users/password/forgot"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30ed\u30b0\u30a4\u30f3\u524d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u521d\u671f\u5316 \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"58"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/ValidatePassword"},"ValidatePassword")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u78ba\u8a8d"),Object(i.b)("td",{parentName:"tr",align:"left"},"GET"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/users/password/validate"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30ed\u30b0\u30a4\u30f3\u524d\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u521d\u671f\u5316\u3000\u30d1\u30b9\u30ef\u30fc\u5909\u66f4\u72b6\u614b\u306e\u78ba\u8a8d"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"59"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/SetPassword"},"SetPassword")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4\u767b\u9332"),Object(i.b)("td",{parentName:"tr",align:"left"},"PUT"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/users/password"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")))),Object(i.b)("h4",{id:"sequence-diagram"},"Sequence Diagram"),Object(i.b)("p",null,Object(i.b)("img",{alt:"password_update Sequence",src:a(254).default})),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-mermaid"},'sequenceDiagram\n    participant br as Browser\n    participant ml as Mailer\n    participant ap as your WebSite(SPA)\n    participant hx as Hexabase\n    participant sg as SendGrid\n\n    %% register email\n    br->>+ap: access the URL\n    ap->>ap: Press "password forgot" button or link\n    ap->>+hx: ResetPassword [POST /users/password/forgot]\n    ap--\x3e>-br: show "email sent" message\n    hx->>-sg: Send email request\n    Note right of hx: Hexabase will call sendgrid API \n    \n    %% send mail from sendgrid\n    sg--\x3e>+ml: Send email with url link and confirm id\n    Note right of ml: confirm id\n    ml->>ml: Click the URL link in the mail\n    ml->>+hx: [GET /users/password/validate]\n    \n    %% redirect to "set password"\n    hx--\x3e>-br: Redirect\n    br->>+ap: registration_path(redirect url)\n    ap->>ap: Enter new passwords\n    ap->>+hx: RegisterUser [POST /users/password] \n    hx->>hx: Reset to new password\n    hx--\x3e>-ap: return result\n\n')),Object(i.b)("h3",{id:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4"),Object(i.b)("p",null,"\u767b\u9332\u3057\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5909\u66f4\u3057\u307e\u3059"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:"center"},"No"),Object(i.b)("th",{parentName:"tr",align:"left"},"API Name"),Object(i.b)("th",{parentName:"tr",align:"left"},"API\u540d"),Object(i.b)("th",{parentName:"tr",align:"left"},"Method"),Object(i.b)("th",{parentName:"tr",align:"left"},"URI"),Object(i.b)("th",{parentName:"tr",align:"left"},"\u76ee\u7684"),Object(i.b)("th",{parentName:"tr",align:"left"},"version"),Object(i.b)("th",{parentName:"tr",align:"left"},"\u753b\u9762ID","(","display","_","id",")","\u3078\u306e\u5bfe\u5fdc"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"72"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/UpdateUserEmailRequest"},"UpdateUserEmailRequest")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4\u30ea\u30af\u30a8\u30b9\u30c8"),Object(i.b)("td",{parentName:"tr",align:"left"},"POST"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/users/email"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4\u30ea\u30af\u30a8\u30b9\u30c8"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"73"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/ConfirmUserEmail"},"ConfirmUserEmail")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4\u78ba\u8a8d"),Object(i.b)("td",{parentName:"tr",align:"left"},"GET"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/users/confirmations/:confirmation_id"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4\u78ba\u8a8d"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:"center"},"74"),Object(i.b)("td",{parentName:"tr",align:"left"},Object(i.b)("a",{parentName:"td",href:"/linker-api-doc/docs/v0/userinfo/UpdateUserEmail"},"UpdateUserEmail")),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5909\u66f4"),Object(i.b)("td",{parentName:"tr",align:"left"},"POST"),Object(i.b)("td",{parentName:"tr",align:"left"},"/api/v0/users/confirmations"),Object(i.b)("td",{parentName:"tr",align:"left"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u66f4\u3092\u78ba\u5b9a"),Object(i.b)("td",{parentName:"tr",align:"left"},"v0"),Object(i.b)("td",{parentName:"tr",align:"left"},"-")))),Object(i.b)("h4",{id:"sequence-diagram-1"},"Sequence Diagram"),Object(i.b)("p",null,Object(i.b)("img",{alt:"email_update Sequence",src:a(255).default})),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-mermaid"},'sequenceDiagram\n    participant br as Browser\n    participant ml as Mailer\n    participant ap as your WebSite(SPA)\n    participant hx as Hexabase\n    participant sg as SendGrid\n\n    %% register new email\n    br->>+ap: access the URL\n    ap->>ap: Enter new email and press Update\n    ap->>+hx: UpdateUserEmailRequest [POST /users/email]\n    Note right of ap: [email, registration_path(redirect url)]\n    ap--\x3e>-br: show "email sent" message\n    hx->>-sg: Send email request\n    Note right of hx: Hexabase will call sendgrid API\n    \n    %% send mail from sendgrid\n    sg--\x3e>+ml: Send email with url link and confirm id\n    Note right of ml: confirm id\n    ml->>ml: Click the URL link in the mail\n    ml->>+hx: [GET /users/confirmations/xxxxxxx]\n    \n    %% redirect to "confirm change email"\n    hx--\x3e>-br: Redirect\n    br->>+ap: registration_path(redirect url)\n    ap->>ap: press Confirm button\n    ap->>+hx: RegisterUser [POST users/confirmations] \n    Note left of hx: confirmation_id\n    hx->>hx: Change email\n    hx--\x3e>-ap: return status 200\n\n')))}s.isMDXComponent=!0},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return f}));var r=a(0),n=a.n(r);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=n.a.createContext({}),s=function(e){var t=n.a.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):b(b({},t),e)),a},d=function(e){var t=s(e.components);return n.a.createElement(p.Provider,{value:t},e.children)},o={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},m=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=s(a),m=r,f=d["".concat(l,".").concat(m)]||d[m]||o[m]||i;return a?n.a.createElement(f,b(b({ref:t},p),{},{components:a})):n.a.createElement(f,b({ref:t},p))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=m;var b={};for(var c in t)hasOwnProperty.call(t,c)&&(b[c]=t[c]);b.originalType=e,b.mdxType="string"==typeof e?e:r,l[1]=b;for(var p=2;p<i;p++)l[p]=a[p];return n.a.createElement.apply(null,l)}return n.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},254:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/userinfo_password_update-fd09e42238e215403f0787f85f0e8391.png"},255:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/userinfo_email_update-5418ec00ca978e459a0924bee5a5061d.png"}}]);